<!DOCTYPE html>
<html lang="en">
<head>
    #parse("tags.vm")
    <style>
        #title {
            margin-bottom: 20px;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
    </style>
</head>
<body>

<div id="title">
    <h3>
        日志
    </h3>
</div>

<!--  表格 -->
<table id="grid_review_designer_log_table"></table>
<!-- 分页 -->
<div id="grid_review_designer_log_pager"></div>

<script type="text/javascript">

    var listUrl = '$!contentPath/company/pageLogList?id=$!{id}';
    $(function () {

        //初始化table
        var grid_table = "#grid_review_designer_log_table";
        var grid_pager = "#grid_review_designer_log_pager";
        //初始化table
        $(grid_table).jqGrid({
            url: listUrl,
            datatype: "json",
            height: '100%',
            width: '100%',
            colNames: ['时间', '操作类型', '描述','操作人ID','操作人'],
            colModel: [
                {name: 'createDate', index: 'create_Date', formatter: formatDate, width: '20%'},
                {name: 'optName', index: 'opt_name', width: '20%'},
                {name: 'optDescription', index: 'opt_description' , title:false, formatter: onmouth, width: '25%',sortable: false},
                {name: 'optUserId', index: 'opt_user_id',width: '25%',  hidden:true},
                {name: 'optUserName', index: 'opt_user_name',width: '25%'},
            ],
            viewrecords: true,
            rowNum: 10,
            rowList: [10, 25, 50, 100],
            pager: grid_pager,
            altRows: true,
            multiselect: true,
            multiboxonly: true,
            autowidth: true,
            //更新翻页图标
            loadComplete: function () {
                var table = this;
                setTimeout(function () {
                    updatePagerIcons(table);
                }, 0);
            }
        });
        //分页
        $(grid_table).jqGrid('navGrid', grid_pager, {
            edit: false,
            add: false,
            del: false,
            search: false,
            refresh: false,
        })
    });

</script>
</body>
</html>